@property --_s {
  syntax: "<number>";
  initial-value: 0;
  inherits: true;
}

.header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  padding: 1.5rem 0;
  pointer-events: none; /* let the scene breathe */
  transition: padding 0.5s var(--ease-out);
}

.header.is-scrolled {
  padding: 0.75rem 0;
}

.header-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 2.5rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.logo-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  pointer-events: auto;
}

.header-paint-bg {
  position: absolute;
  z-index: -1;
  pointer-events: none;
}

.logo-paint {
  inset: -2rem -3rem;
  opacity: 0.7;
}

.logo {
  font-family: var(--font-display);
  font-size: 1.75rem;
  font-weight: 400;
  color: var(--ink);
  opacity: 1;
  transition: all 0.4s ease;
  position: relative;
  z-index: 2;
}

.logo:hover {
  opacity: 0.5;
}

.nav {
  --easing: linear(
    0, 1.42406 3.67%, 1.65745 4.64%, 1.71709 5.111%, 1.74059 5.591%,
    1.73313 5.971%, 1.70302 6.361%, 1.57154 7.201%, 0.68765 10.781%,
    0.57364 11.621%, 0.53175 12.451%, 0.53598 12.831%, 0.55521 13.231%,
    0.63817 14.071%, 1.19719 17.652%, 1.26945 18.492%, 1.2961 19.322%,
    1.2935 19.702%, 1.28141 20.102%, 1.22906 20.942%, 0.87551 24.522%,
    0.82972 25.363%, 0.81279 26.183%, 0.81425 26.563%, 0.8217 26.963%,
    0.85499 27.813%, 1.07903 31.403%, 1.10761 32.233%, 1.11838 33.053%,
    1.1128 33.833%, 1.0918 34.683%, 0.9501 38.274%, 0.93199 39.104%,
    0.92516 39.914%, 0.92863 40.704%, 0.94188 41.554%, 1.0315 45.145%,
    1.04288 45.965%, 1.04731 46.775%, 1.04586 47.455%, 1.03969 48.185%,
    0.98337 51.745%, 0.97376 52.705%, 0.97009 53.635%, 0.97488 55.056%,
    1.01049 58.616%, 1.0189 60.486%, 1.0159 61.926%, 0.99343 65.477%,
    0.98806 67.337%, 0.98996 68.807%, 1.00408 72.327%, 1.00753 74.157%,
    0.99524 81.008%, 1.00297 87.699%, 0.99812 94.579%, 1.00074
  );
  display: flex;
  gap: 1.5rem;
  position: relative;
  z-index: 2;
  align-items: center;
  pointer-events: auto;
}

.nav-link-elastic {
  --h: .12em;
  display: flex;
  gap: 0.15ch;
  font-family: var(--font-mono);
  font-weight: 700;
  font-size: 14px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--ink);
  opacity: 1;
  text-decoration: none;
  transition: --_s 1.5s var(--easing);
  position: relative;
  padding-block: 0.5em;
  outline: none;
}

.nav-link-elastic:focus-visible {
  outline: none;
}

.nav-link-elastic:hover {
  --_s: 1;
  transition: --_s .3s;
}

.nav-link-elastic span {
  display: inline-block;
  offset-path: shape(from 0.5ch 50%, curve to calc(100% - 0.5ch) 50%
            with 30% calc(50% - var(--_s)*var(--total)*var(--h))/
                 70% calc(50% - var(--_s)*var(--total)*var(--h)) 
    );
  offset-distance: calc(99.9% * (var(--index) - 1) / (var(--total) - 1));
  pointer-events: none;
}

.nav-dot {
  color: var(--ink);
  opacity: 1;
  font-size: 14px;
  user-select: none;
}

/* Responsive fixes */
@media (max-width: 1024px) {
  .header { padding: 1rem 0; }
  .nav { gap: 1.25rem; }
}

@media (max-width: 768px) {
  .header-container {
    padding: 0 1.5rem;
  }
  .logo { font-size: 1.4rem; }
  .nav { gap: 1rem; }
  .nav a { font-size: 0.65rem; }
  
  .logo-paint { inset: -1.5rem -2.5rem; }
}

@media (max-width: 480px) {
  .header-container {
    padding: 0 1rem;
    flex-direction: column;
    gap: 0.75rem;
    align-items: center;
  }
  .header.is-scrolled { padding: 0.5rem 0; }
  .logo-paint { display: none; }
}
